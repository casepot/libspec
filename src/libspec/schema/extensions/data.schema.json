{
  "$defs": {
    "Backend": {
      "enum": [
        "threads",
        "processes",
        "dask",
        "ray",
        "spark",
        "none"
      ],
      "title": "Backend",
      "type": "string"
    },
    "Behavior": {
      "enum": [
        "implicit",
        "explicit",
        "error",
        "warning"
      ],
      "title": "Behavior",
      "type": "string"
    },
    "BroadcastingSpec": {
      "properties": {
        "rules": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Broadcasting rules (e.g., 'numpy', 'strict')",
          "title": "Rules"
        },
        "scalar_expansion": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether scalars are expanded",
          "title": "Scalar Expansion"
        },
        "supported": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether broadcasting is supported",
          "title": "Supported"
        }
      },
      "title": "BroadcastingSpec",
      "type": "object"
    },
    "Category": {
      "enum": [
        "numeric",
        "string",
        "temporal",
        "boolean",
        "categorical",
        "nested",
        "binary",
        "null",
        "custom"
      ],
      "title": "Category",
      "type": "string"
    },
    "Category1": {
      "enum": [
        "select",
        "filter",
        "aggregate",
        "join",
        "reshape",
        "sort",
        "window",
        "fill",
        "cast",
        "custom"
      ],
      "title": "Category1",
      "type": "string"
    },
    "CoercionRule": {
      "properties": {
        "behavior": {
          "anyOf": [
            {
              "$ref": "#/$defs/Behavior"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What happens during coercion"
        },
        "from": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Source type",
          "title": "From"
        },
        "lossy": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether conversion may lose information",
          "title": "Lossy"
        },
        "to": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Target type",
          "title": "To"
        }
      },
      "title": "CoercionRule",
      "type": "object"
    },
    "CopySemantics": {
      "enum": [
        "copy",
        "view",
        "copy_on_write",
        "configurable"
      ],
      "title": "CopySemantics",
      "type": "string"
    },
    "DTypeBehaviorSpec": {
      "properties": {
        "coercion_rules": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/CoercionRule"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Type coercion rules",
          "title": "Coercion Rules"
        },
        "default_dtype": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default dtype when not specified",
          "title": "Default Dtype"
        },
        "dtype_inference": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether dtype is inferred automatically",
          "title": "Dtype Inference"
        },
        "strict_typing": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether type mismatches raise errors",
          "title": "Strict Typing"
        },
        "supported_dtypes": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported data types",
          "title": "Supported Dtypes"
        }
      },
      "title": "DTypeBehaviorSpec",
      "type": "object"
    },
    "DTypePromotionSpec": {
      "properties": {
        "overflow_behavior": {
          "anyOf": [
            {
              "$ref": "#/$defs/OverflowBehavior"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Behavior on overflow"
        },
        "result_dtype": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Result dtype for this operation",
          "title": "Result Dtype"
        },
        "rules": {
          "anyOf": [
            {
              "$ref": "#/$defs/Rules"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Promotion rule set"
        }
      },
      "title": "DTypePromotionSpec",
      "type": "object"
    },
    "DTypeSpec": {
      "properties": {
        "bit_width": {
          "anyOf": [
            {
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Bit width (for numeric types)",
          "title": "Bit Width"
        },
        "category": {
          "anyOf": [
            {
              "$ref": "#/$defs/Category"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Type category"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "name": {
          "description": "Data type name",
          "title": "Name",
          "type": "string"
        },
        "nullable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether null values are supported",
          "title": "Nullable"
        },
        "numpy_equivalent": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Equivalent NumPy dtype",
          "title": "Numpy Equivalent"
        },
        "precision": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Precision (for temporal/decimal types)",
          "title": "Precision"
        },
        "python_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Python type for scalar values",
          "title": "Python Type"
        },
        "signed": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether signed (for integer types)",
          "title": "Signed"
        }
      },
      "required": [
        "name"
      ],
      "title": "DTypeSpec",
      "type": "object"
    },
    "DataLibraryFields": {
      "properties": {
        "dtypes": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/DTypeSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Data types supported by the library",
          "title": "Dtypes"
        },
        "evaluation_strategy": {
          "anyOf": [
            {
              "$ref": "#/$defs/EvaluationStrategySpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "io_formats": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/IOFormatSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported I/O formats",
          "title": "Io Formats"
        },
        "pipelines": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/PipelineSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pipeline/workflow definitions",
          "title": "Pipelines"
        },
        "transforms": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/TransformSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Data transformation operations",
          "title": "Transforms"
        }
      },
      "title": "DataLibraryFields",
      "type": "object"
    },
    "DataMethodFields": {
      "properties": {
        "broadcasting": {
          "anyOf": [
            {
              "$ref": "#/$defs/BroadcastingSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "chunked": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this operation supports chunked processing",
          "title": "Chunked"
        },
        "copy_semantics": {
          "anyOf": [
            {
              "$ref": "#/$defs/CopySemantics"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Copy behavior"
        },
        "dtype_promotion": {
          "anyOf": [
            {
              "$ref": "#/$defs/DTypePromotionSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "in_place": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this method modifies data in place",
          "title": "In Place"
        },
        "lazy": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this method is lazily evaluated",
          "title": "Lazy"
        },
        "parallelizable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this operation can be parallelized",
          "title": "Parallelizable"
        }
      },
      "title": "DataMethodFields",
      "type": "object"
    },
    "DataTypeFields": {
      "properties": {
        "dtype_behavior": {
          "anyOf": [
            {
              "$ref": "#/$defs/DTypeBehaviorSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "memory_layout": {
          "anyOf": [
            {
              "$ref": "#/$defs/MemoryLayoutSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "method_chaining": {
          "anyOf": [
            {
              "$ref": "#/$defs/MethodChainingSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "parallelism": {
          "anyOf": [
            {
              "$ref": "#/$defs/ParallelismSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "DataTypeFields",
      "type": "object"
    },
    "Default": {
      "enum": [
        "eager",
        "lazy",
        "configurable"
      ],
      "title": "Default",
      "type": "string"
    },
    "ErrorHandling": {
      "enum": [
        "fail_fast",
        "collect",
        "skip",
        "retry"
      ],
      "title": "ErrorHandling",
      "type": "string"
    },
    "EvaluationStrategySpec": {
      "properties": {
        "collect_method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method to trigger full evaluation",
          "title": "Collect Method"
        },
        "default": {
          "anyOf": [
            {
              "$ref": "#/$defs/Default"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default evaluation strategy"
        },
        "eager_triggers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Operations that trigger evaluation",
          "title": "Eager Triggers"
        },
        "explain_method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method to explain query plan",
          "title": "Explain Method"
        },
        "lazy_operations": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Operations that are always lazy",
          "title": "Lazy Operations"
        },
        "query_optimization": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether query optimization is performed",
          "title": "Query Optimization"
        },
        "streaming_collect": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether streaming evaluation is supported",
          "title": "Streaming Collect"
        }
      },
      "title": "EvaluationStrategySpec",
      "type": "object"
    },
    "IOFormatSpec": {
      "properties": {
        "compression": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported compression codecs",
          "title": "Compression"
        },
        "format": {
          "description": "Format name (e.g., 'csv', 'parquet', 'json')",
          "title": "Format",
          "type": "string"
        },
        "partitioning": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether partitioned read/write is supported",
          "title": "Partitioning"
        },
        "read_method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method for reading this format",
          "title": "Read Method"
        },
        "schema_support": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether format supports schema",
          "title": "Schema Support"
        },
        "streaming": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether streaming read/write is supported",
          "title": "Streaming"
        },
        "write_method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method for writing this format",
          "title": "Write Method"
        }
      },
      "required": [
        "format"
      ],
      "title": "IOFormatSpec",
      "type": "object"
    },
    "Layout": {
      "enum": [
        "row_major",
        "column_major",
        "chunked",
        "arrow",
        "custom"
      ],
      "title": "Layout",
      "type": "string"
    },
    "MemoryLayoutSpec": {
      "properties": {
        "contiguous": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether data is stored contiguously",
          "title": "Contiguous"
        },
        "layout": {
          "anyOf": [
            {
              "$ref": "#/$defs/Layout"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Memory layout"
        },
        "memory_mapped": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether memory mapping is supported",
          "title": "Memory Mapped"
        },
        "string_storage": {
          "anyOf": [
            {
              "$ref": "#/$defs/StringStorage"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "String storage strategy"
        },
        "zero_copy": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether zero-copy operations are supported",
          "title": "Zero Copy"
        }
      },
      "title": "MemoryLayoutSpec",
      "type": "object"
    },
    "MethodChainingSpec": {
      "properties": {
        "chainable_methods": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Methods that support chaining",
          "title": "Chainable Methods"
        },
        "fluent_api": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether methods return self for chaining",
          "title": "Fluent Api"
        },
        "immutable_chain": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether each chain step creates new instance",
          "title": "Immutable Chain"
        },
        "terminal_methods": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Methods that break the chain (return different type)",
          "title": "Terminal Methods"
        }
      },
      "title": "MethodChainingSpec",
      "type": "object"
    },
    "OverflowBehavior": {
      "enum": [
        "wrap",
        "saturate",
        "error",
        "promote"
      ],
      "title": "OverflowBehavior",
      "type": "string"
    },
    "ParallelismSpec": {
      "properties": {
        "auto_parallel": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether operations auto-parallelize",
          "title": "Auto Parallel"
        },
        "backend": {
          "anyOf": [
            {
              "$ref": "#/$defs/Backend"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Parallelism backend"
        },
        "default_threads": {
          "anyOf": [
            {
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default thread count",
          "title": "Default Threads"
        },
        "min_size_for_parallel": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Minimum data size for parallel execution",
          "title": "Min Size For Parallel"
        },
        "parallel_operations": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Operations that support parallelism",
          "title": "Parallel Operations"
        }
      },
      "title": "ParallelismSpec",
      "type": "object"
    },
    "PipelineSpec": {
      "properties": {
        "checkpointing": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether checkpointing is supported",
          "title": "Checkpointing"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "error_handling": {
          "anyOf": [
            {
              "$ref": "#/$defs/ErrorHandling"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "How errors are handled"
        },
        "name": {
          "description": "Pipeline name",
          "title": "Name",
          "type": "string"
        },
        "stages": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/PipelineStage"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pipeline stages",
          "title": "Stages"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/Type"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pipeline type"
        }
      },
      "required": [
        "name"
      ],
      "title": "PipelineSpec",
      "type": "object"
    },
    "PipelineStage": {
      "properties": {
        "inputs": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Input names (for DAG)",
          "title": "Inputs"
        },
        "name": {
          "description": "Stage name",
          "title": "Name",
          "type": "string"
        },
        "optional": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether stage can be skipped",
          "title": "Optional"
        },
        "output": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Output name",
          "title": "Output"
        },
        "transform": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Transform to apply",
          "title": "Transform"
        }
      },
      "required": [
        "name"
      ],
      "title": "PipelineStage",
      "type": "object"
    },
    "Rules": {
      "enum": [
        "numpy",
        "pandas",
        "strict",
        "custom"
      ],
      "title": "Rules",
      "type": "string"
    },
    "StringStorage": {
      "enum": [
        "utf8",
        "large_utf8",
        "dictionary",
        "fixed_size"
      ],
      "title": "StringStorage",
      "type": "string"
    },
    "TransformSpec": {
      "properties": {
        "category": {
          "$ref": "#/$defs/Category1",
          "description": "Transform category"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "input_shape": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Expected input shape (e.g., '1D', '2D', 'any')",
          "title": "Input Shape"
        },
        "method": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method reference",
          "title": "Method"
        },
        "name": {
          "description": "Transform name",
          "title": "Name",
          "type": "string"
        },
        "output_shape": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Resulting output shape",
          "title": "Output Shape"
        },
        "preserves_index": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether index is preserved",
          "title": "Preserves Index"
        },
        "preserves_order": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether row order is preserved",
          "title": "Preserves Order"
        }
      },
      "required": [
        "name",
        "category"
      ],
      "title": "TransformSpec",
      "type": "object"
    },
    "Type": {
      "enum": [
        "sequential",
        "dag",
        "streaming",
        "batch"
      ],
      "title": "Type",
      "type": "string"
    }
  },
  "$id": "https://libspec.dev/schema/1.0/extensions/data.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Extension for data processing and transformation specifications.",
  "title": "Data Extension"
}
