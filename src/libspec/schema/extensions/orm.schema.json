{
  "$defs": {
    "ColumnSpec": {
      "properties": {
        "auto_increment": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether value auto-increments",
          "title": "Auto Increment"
        },
        "check": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "CHECK constraint expression",
          "title": "Check"
        },
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Column comment",
          "title": "Comment"
        },
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default value or callable",
          "title": "Default"
        },
        "foreign_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Foreign key reference (e.g., 'users.id')",
          "title": "Foreign Key"
        },
        "index": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether column is indexed",
          "title": "Index"
        },
        "name": {
          "description": "Column name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "nullable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": true,
          "description": "Whether column allows NULL",
          "title": "Nullable"
        },
        "on_delete": {
          "anyOf": [
            {
              "$ref": "#/$defs/OnDelete"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "ON DELETE action"
        },
        "on_update": {
          "anyOf": [
            {
              "$ref": "#/$defs/OnUpdate"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "ON UPDATE action"
        },
        "primary_key": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this is a primary key",
          "title": "Primary Key"
        },
        "python_type": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Python type for this column",
          "title": "Python Type"
        },
        "server_default": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Server-side default expression",
          "title": "Server Default"
        },
        "type": {
          "description": "Column type (e.g., 'Integer', 'String(255)', 'JSON')",
          "minLength": 1,
          "title": "Type",
          "type": "string"
        },
        "unique": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether value must be unique",
          "title": "Unique"
        }
      },
      "required": [
        "name",
        "type"
      ],
      "title": "ColumnSpec",
      "type": "object"
    },
    "ConstraintSpec": {
      "properties": {
        "columns": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Columns involved",
          "title": "Columns"
        },
        "deferrable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether constraint is deferrable",
          "title": "Deferrable"
        },
        "expression": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Constraint expression",
          "title": "Expression"
        },
        "initially": {
          "anyOf": [
            {
              "$ref": "#/$defs/Initially"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Initial constraint mode"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Constraint name",
          "title": "Name"
        },
        "type": {
          "$ref": "#/$defs/ConstraintType",
          "description": "Constraint type"
        }
      },
      "required": [
        "type"
      ],
      "title": "ConstraintSpec",
      "type": "object"
    },
    "ConstraintType": {
      "description": "Database table constraint type.\n\n- check: CHECK constraint on column values\n- unique: UNIQUE constraint\n- foreign_key: FOREIGN KEY constraint\n- primary_key: PRIMARY KEY constraint\n- exclude: PostgreSQL EXCLUDE constraint",
      "enum": [
        "check",
        "unique",
        "foreign_key",
        "primary_key",
        "exclude"
      ],
      "title": "ConstraintType",
      "type": "string"
    },
    "DatabaseSupportSpec": {
      "properties": {
        "async_driver": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Async driver package",
          "title": "Async Driver"
        },
        "dialect": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "SQLAlchemy dialect",
          "title": "Dialect"
        },
        "features": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Database-specific features supported",
          "title": "Features"
        },
        "min_version": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Minimum supported version",
          "title": "Min Version"
        },
        "name": {
          "$ref": "#/$defs/Name",
          "description": "Database name"
        }
      },
      "required": [
        "name"
      ],
      "title": "DatabaseSupportSpec",
      "type": "object"
    },
    "IndexSpec": {
      "properties": {
        "columns": {
          "description": "Columns in the index",
          "items": {
            "type": "string"
          },
          "title": "Columns",
          "type": "array"
        },
        "include": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Included columns (covering index)",
          "title": "Include"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Index name",
          "title": "Name"
        },
        "type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Index type (e.g., 'btree', 'hash', 'gin', 'gist')",
          "title": "Type"
        },
        "unique": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether index is unique",
          "title": "Unique"
        },
        "where": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Partial index condition",
          "title": "Where"
        }
      },
      "required": [
        "columns"
      ],
      "title": "IndexSpec",
      "type": "object"
    },
    "InheritanceType": {
      "description": "SQLAlchemy model inheritance strategy.\n\n- single_table: All classes in one table with discriminator\n- joined: Each class has its own table, joined on primary key\n- concrete: Each concrete class has its own complete table",
      "enum": [
        "single_table",
        "joined",
        "concrete"
      ],
      "title": "InheritanceType",
      "type": "string"
    },
    "Initially": {
      "description": "When deferrable constraints are checked.\n\n- IMMEDIATE: Check constraint at statement end\n- DEFERRED: Check constraint at transaction commit",
      "enum": [
        "IMMEDIATE",
        "DEFERRED"
      ],
      "title": "Initially",
      "type": "string"
    },
    "Lazy": {
      "description": "SQLAlchemy relationship loading strategy.\n\n- select: Lazy load with separate SELECT on access\n- joined: Eager load with JOIN in same query\n- subquery: Eager load with subquery\n- selectin: Eager load with SELECT IN clause\n- raise_: Raise exception if relationship accessed (prevents N+1)\n- dynamic: Return query object instead of loading\n- write_only: Write-only relationship (no loading)",
      "enum": [
        "select",
        "joined",
        "subquery",
        "selectin",
        "raise",
        "dynamic",
        "write_only"
      ],
      "title": "Lazy",
      "type": "string"
    },
    "MigrationSpec": {
      "properties": {
        "auto_generate": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether auto-generation is supported",
          "title": "Auto Generate"
        },
        "branching": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether migration branching is supported",
          "title": "Branching"
        },
        "directory": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Migration directory",
          "title": "Directory"
        },
        "revision_format": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Revision ID format",
          "title": "Revision Format"
        },
        "tool": {
          "anyOf": [
            {
              "$ref": "#/$defs/Tool"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Migration tool"
        }
      },
      "title": "MigrationSpec",
      "type": "object"
    },
    "ModelSpec": {
      "properties": {
        "columns": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ColumnSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Column definitions",
          "title": "Columns"
        },
        "constraints": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ConstraintSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Table constraints",
          "title": "Constraints"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "indexes": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/IndexSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Index definitions",
          "title": "Indexes"
        },
        "mixins": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Mixin classes applied",
          "title": "Mixins"
        },
        "name": {
          "description": "Model class name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "polymorphic": {
          "anyOf": [
            {
              "$ref": "#/$defs/PolymorphicSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "primary_key": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Primary key columns",
          "title": "Primary Key"
        },
        "relationships": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/RelationshipSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Relationships to other models",
          "title": "Relationships"
        },
        "schema": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Database schema (if applicable)",
          "title": "Schema"
        },
        "soft_delete": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether soft delete is enabled",
          "title": "Soft Delete"
        },
        "table": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Database table name",
          "title": "Table"
        },
        "timestamps": {
          "anyOf": [
            {
              "$ref": "#/$defs/TimestampSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "required": [
        "name"
      ],
      "title": "ModelSpec",
      "type": "object"
    },
    "Name": {
      "description": "Supported database system.\n\n- postgresql: PostgreSQL\n- mysql: MySQL\n- sqlite: SQLite\n- oracle: Oracle Database\n- mssql: Microsoft SQL Server\n- mariadb: MariaDB\n- cockroachdb: CockroachDB",
      "enum": [
        "postgresql",
        "mysql",
        "sqlite",
        "oracle",
        "mssql",
        "mariadb",
        "cockroachdb"
      ],
      "title": "Name",
      "type": "string"
    },
    "ORMLibraryFields": {
      "properties": {
        "database_support": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/DatabaseSupportSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported databases",
          "title": "Database Support"
        },
        "migrations": {
          "anyOf": [
            {
              "$ref": "#/$defs/MigrationSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "models": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ModelSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "ORM model definitions",
          "title": "Models"
        },
        "query_patterns": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/QueryPatternSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Common query patterns",
          "title": "Query Patterns"
        },
        "session_management": {
          "anyOf": [
            {
              "$ref": "#/$defs/SessionManagementSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "ORMLibraryFields",
      "type": "object"
    },
    "OnDelete": {
      "description": "Foreign key ON DELETE referential action.\n\nValues use lowercase with underscores, mapping to SQL keywords:\n- cascade: Delete child rows when parent is deleted (SQL: CASCADE)\n- set_null: Set child foreign key to NULL (SQL: SET NULL)\n- set_default: Set child foreign key to default value (SQL: SET DEFAULT)\n- restrict: Prevent deletion if children exist (SQL: RESTRICT)\n- no_action: Defer check until transaction end (SQL: NO ACTION)",
      "enum": [
        "cascade",
        "set_null",
        "set_default",
        "restrict",
        "no_action"
      ],
      "title": "OnDelete",
      "type": "string"
    },
    "OnUpdate": {
      "description": "Foreign key ON UPDATE referential action.\n\nValues use lowercase with underscores, mapping to SQL keywords:\n- cascade: Update child rows when parent key changes (SQL: CASCADE)\n- set_null: Set child foreign key to NULL (SQL: SET NULL)\n- set_default: Set child foreign key to default value (SQL: SET DEFAULT)\n- restrict: Prevent update if children exist (SQL: RESTRICT)\n- no_action: Defer check until transaction end (SQL: NO ACTION)",
      "enum": [
        "cascade",
        "set_null",
        "set_default",
        "restrict",
        "no_action"
      ],
      "title": "OnUpdate",
      "type": "string"
    },
    "Pattern": {
      "description": "Database query/persistence pattern.\n\n- repository: Repository pattern (abstraction over data access)\n- active_record: Objects know how to persist themselves\n- data_mapper: Separate mapper handles persistence\n- query_builder: Fluent query construction\n- raw_sql: Direct SQL execution",
      "enum": [
        "repository",
        "active_record",
        "data_mapper",
        "query_builder",
        "raw_sql"
      ],
      "title": "Pattern",
      "type": "string"
    },
    "PolymorphicSpec": {
      "properties": {
        "discriminator": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Discriminator column",
          "title": "Discriminator"
        },
        "identity": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Polymorphic identity value",
          "title": "Identity"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/InheritanceType"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Inheritance type"
        }
      },
      "title": "PolymorphicSpec",
      "type": "object"
    },
    "QueryPatternSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Pattern description",
          "title": "Description"
        },
        "example": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Usage example",
          "title": "Example"
        },
        "method": {
          "anyOf": [
            {
              "minLength": 1,
              "pattern": "^[a-z_][a-z0-9_.]*$",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Method reference",
          "title": "Method"
        },
        "name": {
          "description": "Pattern name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "pattern": {
          "anyOf": [
            {
              "$ref": "#/$defs/Pattern"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Query pattern type"
        }
      },
      "required": [
        "name"
      ],
      "title": "QueryPatternSpec",
      "type": "object"
    },
    "RelationshipSpec": {
      "properties": {
        "back_populates": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Back-reference attribute on target",
          "title": "Back Populates"
        },
        "cascade": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Cascade options (e.g., 'all, delete-orphan')",
          "title": "Cascade"
        },
        "foreign_keys": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Explicit foreign keys",
          "title": "Foreign Keys"
        },
        "lazy": {
          "anyOf": [
            {
              "$ref": "#/$defs/Lazy"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Loading strategy"
        },
        "name": {
          "description": "Relationship attribute name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "order_by": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default ordering",
          "title": "Order By"
        },
        "secondary": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Association table (for many-to-many)",
          "title": "Secondary"
        },
        "target": {
          "description": "Target model name",
          "title": "Target",
          "type": "string"
        },
        "type": {
          "$ref": "#/$defs/RelationshipType",
          "description": "Relationship type"
        },
        "uselist": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether relationship returns list",
          "title": "Uselist"
        },
        "viewonly": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether relationship is read-only",
          "title": "Viewonly"
        }
      },
      "required": [
        "name",
        "type",
        "target"
      ],
      "title": "RelationshipSpec",
      "type": "object"
    },
    "RelationshipType": {
      "description": "ORM relationship cardinality.\n\n- one_to_one: Each parent has exactly one child\n- one_to_many: Each parent has zero or more children\n- many_to_one: Many children reference one parent (foreign key side)\n- many_to_many: Many-to-many via association table",
      "enum": [
        "one_to_one",
        "one_to_many",
        "many_to_one",
        "many_to_many"
      ],
      "title": "RelationshipType",
      "type": "string"
    },
    "SessionManagementSpec": {
      "properties": {
        "async_support": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether async sessions are supported",
          "title": "Async Support"
        },
        "autocommit": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default autocommit setting",
          "title": "Autocommit"
        },
        "autoflush": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default autoflush setting",
          "title": "Autoflush"
        },
        "context_manager": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether session supports context manager",
          "title": "Context Manager"
        },
        "expire_on_commit": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether objects expire on commit",
          "title": "Expire On Commit"
        },
        "scoped_session": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether scoped sessions are used",
          "title": "Scoped Session"
        }
      },
      "title": "SessionManagementSpec",
      "type": "object"
    },
    "TimestampSpec": {
      "properties": {
        "created_at": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Created timestamp column name",
          "title": "Created At"
        },
        "deleted_at": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Soft delete timestamp column name",
          "title": "Deleted At"
        },
        "timezone": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether timestamps include timezone",
          "title": "Timezone"
        },
        "updated_at": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Updated timestamp column name",
          "title": "Updated At"
        }
      },
      "title": "TimestampSpec",
      "type": "object"
    },
    "Tool": {
      "description": "Database migration tool.\n\n- alembic: SQLAlchemy's Alembic\n- flyway: Flyway (Java/general)\n- django: Django's built-in migrations\n- custom: Custom migration implementation",
      "enum": [
        "alembic",
        "flyway",
        "django",
        "custom"
      ],
      "title": "Tool",
      "type": "string"
    }
  },
  "$id": "https://libspec.dev/schema/1.0/extensions/orm.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Extension for object-relational mapping specifications.",
  "title": "ORM Extension"
}
