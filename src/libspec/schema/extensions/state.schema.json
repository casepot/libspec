{
  "$defs": {
    "ActionSpec": {
      "properties": {
        "async": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this is an async action/thunk",
          "title": "Async"
        },
        "creator": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action creator function reference",
          "title": "Creator"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "name": {
          "description": "Action type name",
          "title": "Name",
          "type": "string"
        },
        "payload_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Payload type",
          "title": "Payload Type"
        },
        "type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action creator type reference",
          "title": "Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "ActionSpec",
      "type": "object"
    },
    "GuardSpec": {
      "properties": {
        "condition": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Condition description",
          "title": "Condition"
        },
        "function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Guard function reference",
          "title": "Function"
        },
        "name": {
          "description": "Guard name",
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ],
      "title": "GuardSpec",
      "type": "object"
    },
    "Intercept": {
      "enum": [
        "actions",
        "state",
        "dispatch",
        "subscribe"
      ],
      "title": "Intercept",
      "type": "string"
    },
    "MachineActionSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action function reference",
          "title": "Function"
        },
        "name": {
          "description": "Action name",
          "title": "Name",
          "type": "string"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/Type2"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action type"
        }
      },
      "required": [
        "name"
      ],
      "title": "MachineActionSpec",
      "type": "object"
    },
    "MachineEventSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "name": {
          "description": "Event name",
          "title": "Name",
          "type": "string"
        },
        "payload_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Event payload type",
          "title": "Payload Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "MachineEventSpec",
      "type": "object"
    },
    "MachineStateSpec": {
      "properties": {
        "children": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/MachineStateSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Child states (for compound/parallel)",
          "title": "Children"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "entry": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Entry actions",
          "title": "Entry"
        },
        "exit": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Exit actions",
          "title": "Exit"
        },
        "initial": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Initial child state",
          "title": "Initial"
        },
        "invoke": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Invoked services in this state",
          "title": "Invoke"
        },
        "name": {
          "description": "State name",
          "title": "Name",
          "type": "string"
        },
        "on": {
          "anyOf": [
            {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Event handlers (event -> transition)",
          "title": "On"
        },
        "tags": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State tags for querying",
          "title": "Tags"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/Type1"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State type"
        }
      },
      "required": [
        "name"
      ],
      "title": "MachineStateSpec",
      "type": "object"
    },
    "PersistenceSpec": {
      "properties": {
        "blacklist": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Paths to exclude",
          "title": "Blacklist"
        },
        "key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Storage key",
          "title": "Key"
        },
        "migrate": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Migration function reference",
          "title": "Migrate"
        },
        "storage": {
          "anyOf": [
            {
              "$ref": "#/$defs/Storage"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Storage type"
        },
        "version": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Persistence version",
          "title": "Version"
        },
        "whitelist": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Paths to persist",
          "title": "Whitelist"
        }
      },
      "title": "PersistenceSpec",
      "type": "object"
    },
    "ReducerSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Reducer function reference",
          "title": "Function"
        },
        "handles": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action types this reducer handles",
          "title": "Handles"
        },
        "name": {
          "description": "Reducer name",
          "title": "Name",
          "type": "string"
        },
        "pure": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether reducer is pure",
          "title": "Pure"
        }
      },
      "required": [
        "name"
      ],
      "title": "ReducerSpec",
      "type": "object"
    },
    "SelectorSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "function": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Selector function reference",
          "title": "Function"
        },
        "input_selectors": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Input selectors (for memoization)",
          "title": "Input Selectors"
        },
        "memoized": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether selector is memoized",
          "title": "Memoized"
        },
        "name": {
          "description": "Selector name",
          "title": "Name",
          "type": "string"
        },
        "return_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Return type",
          "title": "Return Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "SelectorSpec",
      "type": "object"
    },
    "ServiceSpec": {
      "properties": {
        "name": {
          "description": "Service name",
          "title": "Name",
          "type": "string"
        },
        "on_done": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Transition on success",
          "title": "On Done"
        },
        "on_error": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Transition on error",
          "title": "On Error"
        },
        "src": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Service source/function reference",
          "title": "Src"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/Type3"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Service type"
        }
      },
      "required": [
        "name"
      ],
      "title": "ServiceSpec",
      "type": "object"
    },
    "SliceSpec": {
      "properties": {
        "actions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Auto-generated action names",
          "title": "Actions"
        },
        "extra_reducers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "External action handlers",
          "title": "Extra Reducers"
        },
        "name": {
          "description": "Slice name",
          "title": "Name",
          "type": "string"
        },
        "path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Path in state tree",
          "title": "Path"
        },
        "reducers": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ReducerSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Slice reducers",
          "title": "Reducers"
        },
        "selectors": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Slice selectors",
          "title": "Selectors"
        },
        "state_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Slice state type",
          "title": "State Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "SliceSpec",
      "type": "object"
    },
    "StateLibraryFields": {
      "properties": {
        "actions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ActionSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Action definitions",
          "title": "Actions"
        },
        "middleware": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/StateMiddlewareSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State middleware",
          "title": "Middleware"
        },
        "selectors": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/SelectorSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Selector definitions",
          "title": "Selectors"
        },
        "state_machines": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/StateMachineSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State machine definitions",
          "title": "State Machines"
        },
        "stores": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/StoreSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State store definitions",
          "title": "Stores"
        }
      },
      "title": "StateLibraryFields",
      "type": "object"
    },
    "StateMachineSpec": {
      "properties": {
        "actions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/MachineActionSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Side effect actions",
          "title": "Actions"
        },
        "context_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Context/extended state type",
          "title": "Context Type"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "events": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/MachineEventSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Event definitions",
          "title": "Events"
        },
        "guards": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/GuardSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Guard conditions",
          "title": "Guards"
        },
        "hierarchical": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether machine has nested states",
          "title": "Hierarchical"
        },
        "initial": {
          "description": "Initial state name",
          "title": "Initial",
          "type": "string"
        },
        "name": {
          "description": "State machine name",
          "title": "Name",
          "type": "string"
        },
        "parallel": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether machine has parallel states",
          "title": "Parallel"
        },
        "services": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ServiceSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Invoked services",
          "title": "Services"
        },
        "states": {
          "description": "State definitions",
          "items": {
            "$ref": "#/$defs/MachineStateSpec"
          },
          "title": "States",
          "type": "array"
        },
        "transitions": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/TransitionSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Transition definitions",
          "title": "Transitions"
        },
        "type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State machine class reference",
          "title": "Type"
        }
      },
      "required": [
        "name",
        "states",
        "initial"
      ],
      "title": "StateMachineSpec",
      "type": "object"
    },
    "StateMiddlewareSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "intercepts": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Intercept"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What this middleware intercepts",
          "title": "Intercepts"
        },
        "name": {
          "description": "Middleware name",
          "title": "Name",
          "type": "string"
        },
        "order": {
          "anyOf": [
            {
              "minimum": 0,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Execution order",
          "title": "Order"
        },
        "type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Middleware type reference",
          "title": "Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "StateMiddlewareSpec",
      "type": "object"
    },
    "StateShapeSpec": {
      "properties": {
        "entities": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Entity types in state",
          "title": "Entities"
        },
        "entities_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "entities",
          "description": "Key for entity maps",
          "title": "Entities Key"
        },
        "ids_key": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "ids",
          "description": "Key for ID arrays",
          "title": "Ids Key"
        },
        "normalized": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether state is normalized",
          "title": "Normalized"
        }
      },
      "title": "StateShapeSpec",
      "type": "object"
    },
    "StateTypeFields": {
      "properties": {
        "immutable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether state is immutable",
          "title": "Immutable"
        },
        "serializable": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether state is serializable",
          "title": "Serializable"
        },
        "state_shape": {
          "anyOf": [
            {
              "$ref": "#/$defs/StateShapeSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "StateTypeFields",
      "type": "object"
    },
    "Storage": {
      "enum": [
        "localStorage",
        "sessionStorage",
        "indexedDB",
        "asyncStorage",
        "custom"
      ],
      "title": "Storage",
      "type": "string"
    },
    "StoreSpec": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "devtools": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether devtools integration is supported",
          "title": "Devtools"
        },
        "initial_state": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Initial state factory reference",
          "title": "Initial State"
        },
        "name": {
          "description": "Store name",
          "title": "Name",
          "type": "string"
        },
        "persistence": {
          "anyOf": [
            {
              "$ref": "#/$defs/PersistenceSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "reducers": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ReducerSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Reducer functions",
          "title": "Reducers"
        },
        "slices": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/SliceSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State slices",
          "title": "Slices"
        },
        "state_type": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "State type reference",
          "title": "State Type"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/Type"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Store implementation type"
        }
      },
      "required": [
        "name"
      ],
      "title": "StoreSpec",
      "type": "object"
    },
    "TransitionSpec": {
      "properties": {
        "actions": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Transition actions",
          "title": "Actions"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Description"
        },
        "event": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Triggering event",
          "title": "Event"
        },
        "from": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Source state",
          "title": "From"
        },
        "guard": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Guard condition",
          "title": "Guard"
        },
        "internal": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether transition is internal (no exit/entry)",
          "title": "Internal"
        },
        "to": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Target state",
          "title": "To"
        }
      },
      "title": "TransitionSpec",
      "type": "object"
    },
    "Type": {
      "enum": [
        "redux",
        "mobx",
        "zustand",
        "recoil",
        "pinia",
        "custom"
      ],
      "title": "Type",
      "type": "string"
    },
    "Type1": {
      "enum": [
        "atomic",
        "compound",
        "parallel",
        "final",
        "history"
      ],
      "title": "Type1",
      "type": "string"
    },
    "Type2": {
      "enum": [
        "assign",
        "raise",
        "send",
        "log",
        "custom"
      ],
      "title": "Type2",
      "type": "string"
    },
    "Type3": {
      "enum": [
        "promise",
        "callback",
        "observable",
        "machine"
      ],
      "title": "Type3",
      "type": "string"
    }
  },
  "$id": "https://libspec.dev/schema/1.0/extensions/state.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Extension for state management specifications.",
  "title": "State Extension"
}
