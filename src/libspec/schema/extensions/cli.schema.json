{
  "$defs": {
    "ArgumentSpec": {
      "properties": {
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default value",
          "title": "Default"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Help text",
          "title": "Description"
        },
        "envvar": {
          "anyOf": [
            {
              "minLength": 1,
              "pattern": "^[A-Z_][A-Z0-9_]*$",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variable fallback",
          "title": "Envvar"
        },
        "metavar": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Display name in help",
          "title": "Metavar"
        },
        "name": {
          "description": "Argument name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "nargs": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Number of arguments (int, '?', '*', '+')",
          "title": "Nargs"
        },
        "required": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": true,
          "description": "Whether argument is required",
          "title": "Required"
        },
        "shell_complete": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompletionSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "type": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Argument type",
          "title": "Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "ArgumentSpec",
      "type": "object"
    },
    "CLILibraryFields": {
      "properties": {
        "cli_name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "CLI executable name",
          "title": "Cli Name"
        },
        "commands": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/CommandSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "CLI commands",
          "title": "Commands"
        },
        "exit_codes": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ExitCodeSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Exit code definitions",
          "title": "Exit Codes"
        },
        "global_options": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/OptionSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Options available to all commands",
          "title": "Global Options"
        },
        "help_formatting": {
          "anyOf": [
            {
              "$ref": "#/$defs/HelpFormattingSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "shell_completion": {
          "anyOf": [
            {
              "$ref": "#/$defs/ShellCompletionSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        }
      },
      "title": "CLILibraryFields",
      "type": "object"
    },
    "Color": {
      "description": "Color output mode for CLI help and messages.\n\n- auto: Use color when terminal supports it\n- always: Always use color output\n- never: Never use color output",
      "enum": [
        "auto",
        "always",
        "never"
      ],
      "title": "Color",
      "type": "string"
    },
    "CommandSpec": {
      "properties": {
        "aliases": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command aliases",
          "title": "Aliases"
        },
        "arguments": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ArgumentSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Positional arguments",
          "title": "Arguments"
        },
        "context_settings": {
          "anyOf": [
            {
              "$ref": "#/$defs/ContextSettingsSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "deprecated": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether command is deprecated",
          "title": "Deprecated"
        },
        "deprecated_message": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Deprecation message",
          "title": "Deprecated Message"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Help text",
          "title": "Description"
        },
        "epilog": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Text shown after help",
          "title": "Epilog"
        },
        "examples": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ExampleSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Usage examples",
          "title": "Examples"
        },
        "handler": {
          "anyOf": [
            {
              "minLength": 1,
              "pattern": "^[a-z_][a-z0-9_.]*$",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Handler function reference",
          "title": "Handler"
        },
        "hidden": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether command is hidden from help",
          "title": "Hidden"
        },
        "name": {
          "description": "Command name",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "options": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/OptionSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command options/flags",
          "title": "Options"
        },
        "short_help": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Short help shown in command listings",
          "title": "Short Help"
        },
        "subcommands": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/CommandSpec"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Subcommands",
          "title": "Subcommands"
        }
      },
      "required": [
        "name"
      ],
      "title": "CommandSpec",
      "type": "object"
    },
    "CompletionSpec": {
      "properties": {
        "file_pattern": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "File pattern for path completion",
          "title": "File Pattern"
        },
        "function": {
          "anyOf": [
            {
              "minLength": 1,
              "pattern": "^[a-z_][a-z0-9_.]*$",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Custom completion function reference",
          "title": "Function"
        },
        "type": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompletionType"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Completion type"
        }
      },
      "title": "CompletionSpec",
      "type": "object"
    },
    "CompletionType": {
      "description": "Type of shell completion for an argument or option.\n\n- path: Complete any filesystem path\n- file: Complete file paths only\n- directory: Complete directory paths only\n- choice: Complete from a fixed set of choices\n- dynamic: Complete using a dynamic callback function\n- none: No completion support",
      "enum": [
        "path",
        "file",
        "directory",
        "choice",
        "dynamic",
        "none"
      ],
      "title": "CompletionType",
      "type": "string"
    },
    "ContextSettingsSpec": {
      "properties": {
        "allow_extra_args": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether extra arguments are allowed",
          "title": "Allow Extra Args"
        },
        "allow_interspersed_args": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether args can be mixed with options",
          "title": "Allow Interspersed Args"
        },
        "auto_envvar_prefix": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Auto-generate envvar names with prefix",
          "title": "Auto Envvar Prefix"
        },
        "ignore_unknown_options": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether unknown options are ignored",
          "title": "Ignore Unknown Options"
        },
        "token_normalize_func": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Function to normalize tokens",
          "title": "Token Normalize Func"
        }
      },
      "title": "ContextSettingsSpec",
      "type": "object"
    },
    "ExampleSpec": {
      "properties": {
        "command": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Example command line",
          "title": "Command"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What this example demonstrates",
          "title": "Description"
        },
        "output": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Expected output",
          "title": "Output"
        }
      },
      "title": "ExampleSpec",
      "type": "object"
    },
    "ExitCodeSpec": {
      "properties": {
        "code": {
          "description": "Exit code value",
          "maximum": 255,
          "minimum": 0,
          "title": "Code",
          "type": "integer"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "When this code is returned",
          "title": "Description"
        },
        "name": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Exit code name",
          "title": "Name"
        }
      },
      "required": [
        "code"
      ],
      "title": "ExitCodeSpec",
      "type": "object"
    },
    "HelpFormattingSpec": {
      "properties": {
        "color": {
          "anyOf": [
            {
              "$ref": "#/$defs/Color"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Color support"
        },
        "max_width": {
          "anyOf": [
            {
              "minimum": 1,
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum help text width",
          "title": "Max Width"
        },
        "rich_markup": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether rich markup is supported",
          "title": "Rich Markup"
        },
        "show_default": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Show defaults in help by default",
          "title": "Show Default"
        },
        "show_envvar": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Show env vars in help by default",
          "title": "Show Envvar"
        }
      },
      "title": "HelpFormattingSpec",
      "type": "object"
    },
    "OptionSpec": {
      "properties": {
        "choices": {
          "anyOf": [
            {
              "items": {},
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Valid choices",
          "title": "Choices"
        },
        "confirmation_prompt": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to confirm input",
          "title": "Confirmation Prompt"
        },
        "count": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to count occurrences (e.g., -vvv)",
          "title": "Count"
        },
        "default": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Default value",
          "title": "Default"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Help text",
          "title": "Description"
        },
        "envvar": {
          "anyOf": [
            {
              "minLength": 1,
              "pattern": "^[A-Z_][A-Z0-9_]*$",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variable name",
          "title": "Envvar"
        },
        "flag_value": {
          "anyOf": [
            {},
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Value when flag is set",
          "title": "Flag Value"
        },
        "hidden": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether option is hidden from help",
          "title": "Hidden"
        },
        "hide_input": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to hide input (for passwords)",
          "title": "Hide Input"
        },
        "is_flag": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether this is a boolean flag",
          "title": "Is Flag"
        },
        "metavar": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Display name in help",
          "title": "Metavar"
        },
        "multiple": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether option can be repeated",
          "title": "Multiple"
        },
        "name": {
          "description": "Long option name (e.g., '--verbose')",
          "minLength": 1,
          "title": "Name",
          "type": "string"
        },
        "prompt": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to prompt if not provided",
          "title": "Prompt"
        },
        "required": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": false,
          "description": "Whether option is required",
          "title": "Required"
        },
        "shell_complete": {
          "anyOf": [
            {
              "$ref": "#/$defs/CompletionSpec"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "short": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Short option name (e.g., '-v')",
          "title": "Short"
        },
        "show_default": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to show default in help",
          "title": "Show Default"
        },
        "show_envvar": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Whether to show envvar in help",
          "title": "Show Envvar"
        },
        "type": {
          "anyOf": [
            {
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Option type",
          "title": "Type"
        }
      },
      "required": [
        "name"
      ],
      "title": "OptionSpec",
      "type": "object"
    },
    "Shell": {
      "description": "Shell types for command completion.\n\n- bash: Bourne Again Shell\n- zsh: Z Shell\n- fish: Friendly Interactive Shell\n- powershell: PowerShell (Windows/cross-platform)",
      "enum": [
        "bash",
        "zsh",
        "fish",
        "powershell"
      ],
      "title": "Shell",
      "type": "string"
    },
    "ShellCompletionSpec": {
      "properties": {
        "env_var": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Environment variable for completion script",
          "title": "Env Var"
        },
        "install_command": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Command to install completions",
          "title": "Install Command"
        },
        "shells": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/Shell"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Supported shells",
          "title": "Shells"
        }
      },
      "title": "ShellCompletionSpec",
      "type": "object"
    }
  },
  "$id": "https://libspec.dev/schema/1.0/extensions/cli.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "description": "Extension for command-line interface specifications.",
  "title": "CLI Extension"
}
